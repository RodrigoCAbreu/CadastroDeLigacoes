use registrodeligacoes;

create table cadastro (
ID int unsigned zerofill NOT NULL AUTO_INCREMENT,
usuario varchar(40) not null,
data varchar(15),
hora varchar(10),
nome_setor varchar(40) not null,
codigo Varchar(40),
prontuario varchar(40),
paciente varchar(40) not null,
nome_exame varchar(40) not null,
nome_medico varchar(40),
motivo varchar(50) not null,
telefone1 varchar(12)not null,
contato1 varchar(40) not null, 
situacao1 varchar(40) not null,
telefone2 varchar(12),
contato2 varchar(40) ,
situacao2 varchar(40),
telefone3 varchar(12),
contato3 varchar(40),
situacao3 varchar(40),
telefone4 varchar(12),
contato4 varchar(40),
situacao4 varchar(40),
obser varchar(250),
Primary Key (ID)) ENGINE = MyISAM;

create table funcionario (
	Id int unsigned zerofill not null,
	nome varchar(70) not null,
	usuario varchar(15),
	senha char(10),
	Primary Key (usuario)) Engine = MyISAM;
	
create table exame ( 
	Id int unsigned zerofill not null,
	nome_exame char(80),
	Primary Key (nome_exame)) Engine = MyISAM;
	
create table setor (
	Id int unsigned zerofill not null,
	nome_setor char(80),
	Primary Key(nome_setor)) Engine = MyISAM;
	
create table medico (
	id_medico int unsigned zerofill not null,
	nome_medico char(80),
	Primary Key (nome_medico)) Engine = MyISAM;
	

-- declaração das FK e ligação entre as Tabelas 

ALTER TABLE cadastro ADD CONSTRAINT FK_CADASTROxFUNCIONARIO FOREIGN KEY ( usuario ) REFERENCES funcionario (usuario);
ALTER TABLE cadastro ADD CONSTRAINT FK_CADASTROxEXAME FOREIGN KEY ( nome_exame ) REFERENCES exame (nome_exame);
ALTER TABLE cadastro ADD CONSTRAINT FK_CADASTROxSETOR FOREIGN KEY ( nome_setor ) REFERENCES setor (nome_setor);
ALTER TABLE cadastro ADD CONSTRAINT FK_CADASTROxMEDICO FOREIGN KEY ( nome_medico ) REFERENCES medico (nome_medico);
